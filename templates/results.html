<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Database Architect AI - Design Report</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='results_style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: true, theme: 'neutral', securityLevel: 'loose' });
    </script>
</head>
<body class="container py-5">
    <div class="header-card d-flex justify-content-between align-items-center no-print shadow-sm">
        <div>
            <h1 class="fw-bolder m-0" style="color: #1e293b; letter-spacing: -1px;">Database Architect AI</h1>
            <p class="text-muted m-0 small fw-medium">Automated Database Design and Modeling System</p>
        </div>
        <div class="d-flex gap-3">
            <a href="/" class="btn btn-outline-dark rounded-pill px-4 fw-bold">Restart Process</a>
            <button onclick="window.print()" class="btn btn-primary rounded-pill px-4 shadow-sm fw-bold" style="background-color: #4f46e5; border: none;">
                ðŸ“„ Export Report as PDF
            </button>
        </div>
    </div>
    
    <div class="stage-box shadow-sm">
        {{ part1 | safe }}
    </div>

    <div class="stage-box stage-4-container shadow-sm">
        <h2 class="text-warning">Stage 4 â€” Analysis of Missing or Ambiguous Rules</h2>
        <p class="text-muted small mb-4 fw-bold">Identified potential risks and solution proposals to enhance system stability:</p>
        <div class="table-responsive">
            {{ missing_rules | safe }}
        </div>
    </div>

    <div class="stage-box shadow-sm">
        {{ part2 | safe }}
    </div>

    <footer class="text-center text-muted py-5 no-print">
        <hr style="opacity: 0.1;">
        <p class="small fw-medium">&copy; 2025 Database Designer AI - Professional Modeling Report</p>
    </footer>
</body>
</html>